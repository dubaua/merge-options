function o(o,t){return Object.prototype.hasOwnProperty.call(o,t)}function t({optionConfig:t,userOptions:e={},preffix:i="",suffix:n="",strict:r=!0}){const f=o=>[i,o,n].join(" "),a={};for(const i in t)if(o(t,i)){const n=t[i],{required:p,default:c,description:d,validator:u}=n,s=e[i],l=!!o(n,"required")&&("function"==typeof p?p(e):p),g=o(e,i),$=u(s,e);if(l){if(!g)throw new TypeError(f(i+" is required."));if(!$)throw new TypeError(f(`Expected ${i} to be ${d}, got ${typeof s} ${s}.`));a[i]=s}else if(a[i]=c,g)if($)a[i]=s;else{if(r)throw new TypeError(f(`Expected ${i} to be ${d}, got ${typeof s} ${s}.`));console.warn(f(`Expected ${i} to be ${d}, got ${typeof s} ${s}. Fallback to default value ${c}.`))}}return a}const e="[mergeOptions]:",i="\nCheck out documentation https://github.com/dubaua/merge-options#parameters-and-return";function n(o){return null!==o&&"object"==typeof o&&!1===Array.isArray(o)}function r(o){throw new TypeError([e,o,i].join(" "))}const f={optionConfig:{required:!0,validator:function(t){for(const e in t)if(o(t,e)){const i=t[e];if(n(i)||r(`Expected optionConfig.${e} to be an object with declarative option configuration, got ${typeof i} ${i}.`),o(i,"required")){const o=i.required,t=typeof o;"boolean"!==t&&"function"!==t&&r(`Expected optionConfig.${e}.required to be either boolean or function, got ${typeof o} ${o}.`)}else o(i,"default")||r(`Expected optionConfig.${e} to either have required or default value.`);if(o(i,"default")||o(i,"required")||r(`Expected optionConfig.${e} to either have required or default value.`),o(i,"description")){const o=i.description;"string"!=typeof i.description&&r(`Expected optionConfig.${e}.description to be a string, got ${typeof o} ${o}.`)}else r(`Missing description on optionConfig.${e} config.`);if(o(i,"validator")){const o=i.validator;"function"!=typeof i.validator&&r(`Expected optionConfig.${e}.validator to be a function, got ${typeof o} ${o}.`)}else r(`Missing validator on optionConfig.${e} config.`)}return n(t)},description:"an object with declarative option configuration"},userOptions:{required:!1,default:{},validator:n,description:"an object"},preffix:{required:!1,default:"",validator:o=>"string"==typeof o,description:"a string"},suffix:{required:!1,default:"",validator:o=>"string"==typeof o,description:"a string"},strict:{required:!1,default:!0,validator:o=>"boolean"==typeof o,description:"a boolean"}};export default function(o){const n=t({optionConfig:f,userOptions:o,preffix:e,suffix:i});return t(n)}
//# sourceMappingURL=merge-options.modern.js.map
